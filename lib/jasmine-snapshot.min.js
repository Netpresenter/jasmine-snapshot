!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("difflib"),require("vkbeautify"),require("x2js")):"function"==typeof define&&define.amd?define("jasmine-snapshot",["difflib","vkbeautify","x2js"],n):"object"==typeof exports?exports["jasmine-snapshot"]=n(require("difflib"),require("vkbeautify"),require("x2js")):t["jasmine-snapshot"]=n(t.difflib,t.vkbeautify,t.x2js)}(this,function(t,n,e){return function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=3)}([function(n,e){n.exports=t},function(t,e){t.exports=n},function(t,n){t.exports=e},function(t,n,e){"use strict";function o(){n.KeyExceptionList=["typeof"]}function r(t,n){if(n!==t){var e=p.default.unifiedDiff(t.split("\n"),n.split("\n")),o="\n*************************************************************\n";o+="* Snapshot did not match Actual. Here is the diff ***********\n",o+="*************************************************************\n",o+=d+"\n\n",e.forEach(function(t){return o+=t+"\n"}),o+="\n";for(var r=n.replace(/\n/g,"").replace(/\t/g,"");-1!==r.indexOf("  ");)r=r.replace(/(  )/g," ");o+="*************************************************************\n",o+="* If the Actual is valid, update the snapshot with this     *\n",o+="*************************************************************\n\n",o+=" ----- Formatted ------\n"+n+"\n\n ----- Single Line ------\n"+r,console.error(o),fail("Actual does not match snapshot. See above. ")}}function i(t,n){c(n).toMatchSnapshot(t)}function a(t,n){var e=n?l.json(n):n;r(t?l.json(t):t,e)}function s(t,n){u(n).toMatchSnapshot(t)}function u(t){return new j(t)}function c(t){return new w(t)}var f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var p=e(0),l=e(1),h=e(2),d="";jasmine.getEnv().addReporter({specStarted:function(t){d=t.fullName}});var y=window.console.warn;window.console.warn=function(){arguments.length>0&&"string"==typeof arguments[0]&&-1!==arguments[0].indexOf("[xmldom ")||y.apply(window.console,arguments)};var v=window.console.error;window.console.error=function(){arguments.length>0&&"string"==typeof arguments[0]&&-1!==arguments[0].indexOf("entity not found")||v.apply(window.console,arguments)},n.KeyExceptionList=["typeof"],n.ResetExceptionList=o,n.MatchesSnapshot=r,n.MatchesXMLSnapshot=i,n.MatchesJSONSnapshot=a,n.MatchesJSSnapshot=s,n.expectjs=u,n.expectxml=c;var x=function(){function t(t){this.actual=t}return t.prototype.afterApplying=function(t){return this.actual=t(this.actual),this},t}(),j=function(t){function e(n){var e=t.call(this,n)||this;return e.parsed_values=new Array,e.actual=n,e}return f(e,t),e.prototype.toMatchSnapshot=function(t){var n=this.actual?l.json(this.getOrderedStringifyAndClean()):this.actual;r(t?l.json(t):t,n)},e.prototype.getOrderedStringifyAndClean=function(){var t=this.collectAllKeysAndRemoveCircular(this.actual);return JSON.stringify(this.actual,t)},e.prototype.collectAllKeysAndRemoveCircular=function(t){var n=this,e=new Array,o=JSON.stringify(t,function(t,o){if(!n.isIEPooOrCurcularReferences(t,o))return e.push(t),o});return this.actual=JSON.parse(o),e.sort(function(t,n){return t>n?1:-1})},e.prototype.isIEPooOrCurcularReferences=function(t,e){return!("string"!=typeof t||!n.KeyExceptionList.some(function(n){return-1!==t.indexOf(n)}))||!!this.IsCurcularDependency(e)},e.prototype.IsCurcularDependency=function(t){return!(!t||"object"!=typeof t)&&(-1!==this.parsed_values.indexOf(t)||(this.parsed_values.push(t),!1))},e}(x);n.SnapshotJSInner=j;var w=function(t){function n(n){var e=t.call(this,n)||this;return e.actual=n,e}return f(n,t),n.prototype.toMatchSnapshot=function(t){u((new h).xml2js(this.actual)).toMatchSnapshot(t)},n}(x);n.SnapshotXMLInner=w}])});