{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0fc7772f809ab5e29e4b","webpack:///jasmine-snapshot.min.js","webpack:///./src/overrideconsole.ts","webpack:///external \"difflib\"","webpack:///external \"vkbeautify\"","webpack:///external \"x2js\"","webpack:///./src/index.ts"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","nativeWarn","console","warn","arguments","length","indexOf","apply","nativeError","error","snapshot_object","current_snapshot_object","current_suite","AutoSnapshotSuite","current_level","KeyExceptionList","snapshot","actual","automagic","diff","difflib","unifiedDiff","split","reportFailure","current_spec","forEach","slice","one_line_actual","create_one_liner","fail","replace","expectxml","toMatchSnapshot","prettyActual","json","MatchesSnapshot","expectjs","SnapshotJSInner","xml_actual","SnapshotXMLInner","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","auto_snapshot_siute_history","snapshot_level","suite_name","snapshots","level","fail_counter_for_autosnapshot","last_automagic_snapshot_spec","last_automagic_snapshot_number","getSnapshotAutomagically_saveActual","auto_snapshot","AutoSnapshot","key","text","push","hasFailure","getText","snapshot_file_text","has_snapshots","pushToHistory","getHTML","document","body","style","fontFamily","whiteSpace","snapshot_file_html","charAt","jasmine","getEnv","addReporter","suiteStarted","result","specStarted","fullName","suiteDone","jasmineDone","results","html_summary","reduce","prev_html","curr_suite","innerHTML","log","afterApplying","transformFunction","parsed_values","_this","getOrderedStringifyAndClean","prettySnapshot","use_autosnapshot","undefined","keys","collectAllKeysAndRemoveCircular","JSON","stringify","js_object","allKeys","val","isIEPooOrCurcularReferences","parse","sort","a","some","ex","IsCurcularDependency","SnapshotInner","X2JS","xml2js"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,gBAAZC,UAA0C,gBAAXC,QACxCA,OAAOD,QAAUD,EAAQG,QAAQ,WAAYA,QAAQ,cAAeA,QAAQ,SACnD,kBAAXC,SAAyBA,OAAOC,IAC9CD,OAAO,oBAAqB,UAAW,aAAc,QAASJ,GACpC,gBAAZC,SACdA,QAAQ,oBAAsBD,EAAQG,QAAQ,WAAYA,QAAQ,cAAeA,QAAQ,SAEzFJ,EAAK,oBAAsBC,EAAQD,EAAc,QAAGA,EAAiB,WAAGA,EAAW,OAClFO,KAAM,SAASC,EAA+BC,EAA+BC,GAChF,M,aCNE,QAASC,GAAoBC,GAG5B,GAAGC,EAAiBD,GACnB,MAAOC,GAAiBD,GAAUV,OAGnC,IAAIC,GAASU,EAAiBD,IAC7BE,EAAGF,EACHG,GAAG,EACHb,WAUD,OANAc,GAAQJ,GAAUK,KAAKd,EAAOD,QAASC,EAAQA,EAAOD,QAASS,GAG/DR,EAAOY,GAAI,EAGJZ,EAAOD,QAvBf,GAAIW,KA+DJ,OAnCAF,GAAoBO,EAAIF,EAGxBL,EAAoBQ,EAAIN,EAGxBF,EAAoBG,EAAI,SAASM,GAAS,MAAOA,IAGjDT,EAAoBU,EAAI,SAASnB,EAASoB,EAAMC,GAC3CZ,EAAoBa,EAAEtB,EAASoB,IAClCG,OAAOC,eAAexB,EAASoB,GAC9BK,cAAc,EACdC,YAAY,EACZC,IAAKN,KAMRZ,EAAoBmB,EAAI,SAAS3B,GAChC,GAAIoB,GAASpB,GAAUA,EAAO4B,WAC7B,WAAwB,MAAO5B,GAAgB,SAC/C,WAA8B,MAAOA,GAEtC,OADAQ,GAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASQ,EAAQC,GAAY,MAAOR,QAAOS,UAAUC,eAAelB,KAAKe,EAAQC,IAGzGtB,EAAoByB,EAAI,GAGjBzB,EAAoBA,EAAoB0B,EAAI,KCgB/C,SAAUlC,EAAQD,GChFxB,GAAIoC,GAAaC,QAAQC,IACzBD,SAAQC,KAAO,WAGNC,UAAUC,OAAS,GACQ,gBAAjBD,WAAU,KACqB,IAAtCA,UAAU,GAAGE,QAAQ,aAK7BL,EAAWM,MAAML,QAASE,WAG9B,IAAII,GAAcN,QAAQO,KAC1BP,SAAQO,MAAQ,WAGPL,UAAUC,OAAS,GACQ,gBAAjBD,WAAU,KAC6B,IAA9CA,UAAU,GAAGE,QAAQ,qBAK7BE,EAAYD,MAAML,QAASE,aD+EzB,SAAUtC,EAAQD,GExGxBC,EAAOD,QAAUM,GF8GX,SAAUL,EAAQD,GG9GxBC,EAAOD,QAAUO,GHoHX,SAAUN,EAAQD,GIpHxBC,EAAOD,QAAUQ,GJ0HX,SAAUP,EAAQD,EAASS,GAEjC,YKtHA,YAAkCoC,EAA4CzB,GAE1E0B,EAA0BD,EAC1BE,EAAgB,GAAIC,GAAkBC,EAAe7B,GAwNzD,aAEI,EAAA8B,kBAAoB,UAKxB,WAAgCC,EAAkBC,EAAgBC,GAE9D,GAAID,IAAWD,EACf,CACI,GAAIG,GAAiBC,EAAQC,YAAYL,EAASM,MAAM,MAAOL,EAAOK,MAAM,MAE5E,IAAIJ,EACJ,CACI,IAAKN,EAAiB,KAAM,sDAE5BA,GAAcW,cAAcJ,GAGhC,GAAI,GAAc,IAclB,IAbA,GAAe,QAAQK,EAAY,kBAEnCL,EAAKM,QAAQ,SAAAzC,GAEC,WAANA,GAAwB,WAANA,GAChBA,EAAEqB,OAAS,GAAuB,OAAlBrB,EAAE0C,MAAM,EAAG,KAE7B,GAAe1C,EAAI,QAI3B,GAAe,MAEVkC,EACL,CACI,GAAIS,GAAkBC,EAAiBX,EAEvC,IAAe,oEACf,GAAe,4BAA4BA,EAAM,kCAAkCU,EAEvFzB,QAAQO,MAAM,GAEdoB,KAAK,gDAIb,QAASD,GAAiBX,GAGtB,IADA,GAAIU,GAAkBV,EAAOa,QAAQ,MAAO,IAAIA,QAAQ,MAAO,IAAIA,QAAQ,OAAQ,YACzC,IAAnCH,EAAgBrB,QAAQ,OAE3BqB,EAAkBA,EAAgBG,QAAQ,QAAS,IAGvD,OAAOH,GAQX,WAAmCX,EAAkBC,GAEjDc,EAAUd,GAAQe,gBAAgBhB,GAQtC,WAAoCA,EAAkBC,GAElD,GAAIgB,GAAehB,EAAS,EAAAiB,KAAKjB,GAAUA,CAG3CkB,GAFqBnB,EAAW,EAAAkB,KAAKlB,GAAYA,EAEjBiB,GAUpC,WAAkCjB,EAAkBC,GAEhDmB,EAASnB,GAAQe,gBAAgBhB,GAGrC,WAAyBC,GAErB,MAAO,IAAIoB,GAAgBpB,GAG/B,WAA0BqB,GAEtB,MAAO,IAAIC,GAAiBD,GLvMhC,GAAIE,GAAatE,MAAQA,KAAKsE,WAAc,WACxC,GAAIC,GAAgBrD,OAAOsD,iBACpBC,uBAA2BC,QAAS,SAAU5D,EAAG6D,GAAK7D,EAAE2D,UAAYE,IACvE,SAAU7D,EAAG6D,GAAK,IAAK,GAAI9C,KAAK8C,GAAOA,EAAE/C,eAAeC,KAAIf,EAAEe,GAAK8C,EAAE9C,IACzE,OAAO,UAAUf,EAAG6D,GAEhB,QAASC,KAAO5E,KAAK6E,YAAc/D,EADnCyD,EAAczD,EAAG6D,GAEjB7D,EAAEa,UAAkB,OAANgD,EAAazD,OAAO4D,OAAOH,IAAMC,EAAGjD,UAAYgD,EAAEhD,UAAW,GAAIiD,OAGvF1D,QAAOC,eAAexB,EAAS,cAAgBkB,OAAO,GKxItD,YACA,OACA,MACA,KAEA,IAAI4B,KACJ,sBAMA,IAmJIC,GAnJJ,2BAKA,YAEIqC,EAA8B,GAAIL,OACtC,aASI,WAAYM,EAAwBC,GAP7B,KAAAC,UAAYR,QACZ,KAAAS,MAAQ,EACP,KAAAC,8BAAgC,EAChC,KAAAC,6BAA+B,GAC/B,KAAAC,+BAAiC,EAKrCtF,KAAKmF,MAAQH,EACbhF,KAAKe,KAAOkE,EA2HpB,MAxHW,aAAAM,oCAAP,SAA2CxC,GAEvC,GAAIyC,GAAgB,GAAIC,EAEpBnC,KAAiBtD,KAAKqF,6BAEtBrF,KAAKsF,kCAILtF,KAAKsF,+BAAiC,EACtCtF,KAAKqF,6BAA+B/B,GAGxCkC,EAAcE,IAAMhC,EAAoBJ,EAAY,IAAItD,KAAKsF,gCAC7DE,EAAcG,KAAOjC,EAAiBX,GACtC/C,KAAKkF,UAAUU,KAAKJ,EAEpB,IAAI1C,GAAWL,EAAwB+C,EAAcE,IACrD,OAAO5C,IAAsB,IAG1B,YAAA+C,WAAP,WAEI,MAAO7F,MAAKoF,8BAAgC,GAGzC,YAAA/B,cAAP,SAAqBJ,GAEjBjD,KAAKkF,UAAUlF,KAAKkF,UAAU/C,OAAS,GAAGc,KAAOA,EACjDjD,KAAKoF,iCAGF,YAAAU,QAAP,WAMI,IAAqB,GAJjBC,GAAqB,6EAErBC,GAAgB,EAEC,MAAAhG,KAAKkF,UAAL,eACrB,CADK,GAAIpC,GAAQ,IAEbkD,IAAgB,EAChBD,GAAsB,QAAQjD,EAAS4C,IAAG,OAAQ5C,EAAS6C,KAAI,KASnE,MANIK,KAEAD,EAAqBA,EAAmBvC,MAAM,EAAGuC,EAAmB5D,OAAS,GAC7E4D,GAAsB,WAGnBA,GAGJ,YAAAE,cAAP,WAEIlB,EAA4Ba,KAAK5F,OAG9B,YAAAkG,QAAP,WAMI,GAJuB,mBAAbC,YACNA,SAASC,KAAKC,MAAMC,WAAa,cACjCH,SAASC,KAAKC,MAAME,WAAa,WAEhCvG,KAAKe,KAAQ,KAAM,qCAExB,KAAKf,KAAK6F,aAEN,MAAO,wFAAwF7F,KAAKe,KAAI,2BAG5G,IAAIyF,GAAqB,wEAAwExG,KAAKe,KAAI,uBAE1Gf,MAAKkF,UAAU3B,QAAQ,SAACT,GAEhBA,EAASG,OAETuD,GAAsB,gBAAgB1D,EAAS4C,IAAG,6CAClD5C,EAASG,KAAKM,QAAQ,SAACzC,GAEfA,EAAEqB,QAAU,IAAwB,QAAlBrB,EAAE0C,MAAM,EAAG,IAAkC,QAAlB1C,EAAE0C,MAAM,EAAG,KAAmC,OAAlB1C,EAAE0C,MAAM,EAAG,KAI/D,MAAhB1C,EAAE2F,OAAO,GAEdD,GAAsB,4BAA4B1F,EAAE8C,QAAQ,UAAW,cAAcA,QAAQ,KAAM,UAAS,iBAEvF,MAAhB9C,EAAE2F,OAAO,GAEdD,GAAsB,8BAA8B1F,EAAE8C,QAAQ,UAAW,cAAcA,QAAQ,KAAM,UAAS,iBAI9G4C,GAAyB1F,EAAE8C,QAAQ,UAAW,cAAcA,QAAQ,KAAM,UAAS,gBAMnG4C,GAAsB,8HACtBA,GAAsB,6BAItB,KAAqB,GAFjBR,IAAgB,EAEC,MAAAhG,KAAKkF,UAAL,eACrB,CADK,GAAIpC,GAAQ,IAEbkD,IAAgB,EAChBQ,GAAsB,mCAAmC1D,EAAS4C,IAAG,OAAQ5C,EAAS6C,KAAK/B,QAAQ,UAAW,cAAa,KAS/H,MANIoC,KAEAQ,EAAqBA,EAAmBhD,MAAM,EAAGgD,EAAmBrE,OAAS,GAC7EqE,GAAsB,sBAGnBA,GAEf,KAKIlD,EAAe,GACfV,EAAgB,CACpB8D,SAAQC,SAASC,aACbC,aAAc,SAAUC,GAEpBlE,KAEJmE,YAAa,SAAUD,GAEnBxD,EAAewD,EAAOE,UAE1BC,UAAW,SAAUH,GAEjBlE,IAEIF,GAAiBE,EAAgBF,EAAcyC,QAE3CzC,EAAcmD,WAKlBnD,EAAcuD,gBACdvD,EAAgB,OAGxBwE,YAAa,SAAUC,GAanB,GAXIzE,IAEIA,EAAcmD,WAKlBnD,EAAcuD,gBACdvD,EAAgB,MAGuB,IAAvCqC,EAA4B5C,OAAhC,CAKA,GAAIiF,GAAerC,EAA4BsC,OAC3C,SAACC,EAAWC,GAER,MAAOD,GAAY,UAAYC,EAAWrB,WAC3C,GAEgB,oBAAbC,UACNA,SAASC,KAAKoB,UAAYJ,EAAejB,SAASC,KAAKoB,UAEvDxF,QAAQyF,IAAIL,OAUb,EAAAvE,kBAAoB,UAE/B,uBAOA,oBAwDA,uBAUA,wBAeA,sBAKA,aAKA,aAKA,kBAII,WAAYE,GAER/C,KAAK+C,OAASA,EAQtB,MALW,aAAA2E,cAAP,SAAqBC,GAGjB,MADA3H,MAAK+C,OAAS4E,EAAkB3H,KAAK+C,QAC9B/C,MAEf,KAEA,cAII,WAAY+C,GAAZ,MAEI,YAAMA,IAAO,ILiBb,OKrBI,GAAA6E,cAAgB,GAAIlD,OAKxB,EAAK3B,OAASA,ELgBP8E,EKkEf,MAzFqC,QAU1B,YAAA/D,gBAAP,SAAuBhB,GAEnB,GAAIiB,GAAe/D,KAAK+C,OAAS,EAAAiB,KAAKhE,KAAK8H,+BAAiC,GAExEC,EAAiBjF,EACjBkF,GAAmB,CACvB,IAAiB,OAAblF,OAAkCmF,KAAbnF,EACzB,CACI,IAAKJ,EAAiB,KAAM,yDAE5BsF,IAAmB,CACnB,IAAIxC,GAAgB9C,EAAc6C,oCAAoCxB,EACtEgE,GAAiBvC,EAAgB,EAAAxB,KAAKwB,GAAiB,OAIvDuC,GAAiBjF,EAAW,EAAAkB,KAAKlB,GAAYA,CAGjDmB,GAAgB8D,EAAgBhE,EAAciE,IAG1C,YAAAF,4BAAR,WAEI,GAAII,GAAOlI,KAAKmI,gCAAgCnI,KAAK+C,OACrD,OAAOqF,MAAKC,UAAUrI,KAAK+C,OAAQmF,IAG/B,YAAAC,gCAAR,SAAwCG,GAAxC,WAEUC,EAAU,GAAI7D,OAEhBV,EAAOoE,KAAKC,UAAUC,EAAW,SAAC5C,EAAa8C,GAE/C,IAAI,EAAKC,4BAA4B/C,EAAK8C,GAM1C,MADAD,GAAQ3C,KAAKF,GACN8C,GAKX,OAFAxI,MAAK+C,OAASqF,KAAKM,MAAM1E,GAElBuE,EAAQI,KAAK,SAACC,EAAWjE,GAAc,MAACiE,GAAIjE,EAAK,GAAK,KAGzD,YAAA8D,4BAAR,SAAoC/C,EAAK7E,GAErC,QAAmB,gBAAR6E,KAAoB,EAAA7C,iBAAiBgG,KAAK,SAACC,GAAO,OAAqB,IAArBpD,EAAItD,QAAQ0G,SAIhE9I,KAAK+I,qBAAqBlI,IAQ/B,YAAAkI,qBAAR,SAA6BlI,GAEzB,SAAIA,GAA0B,gBAAVA,OAE2B,IAAvCb,KAAK4H,cAAcxF,QAAQvB,KAE3Bb,KAAK4H,cAAchC,KAAK/E,IACjB,KAUvB,GAzFqCmI,EAAxB,GAAA7E,iBA2Fb,mBAEI,WAAYC,GAAZ,MAEI,YAAMA,IAAW,ILPjB,OKQA,GAAKrB,OAASqB,ELRPyD,EKmBf,MAhBsC,QAQ3B,YAAA/D,gBAAP,SAAuBhB,GAMnBoB,GAHa,GADC+E,IAGOC,OAAOlJ,KAAK+C,SACbe,gBAAgBhB,IAE5C,GAhBsCkG,EAAzB,GAAA3E","file":"jasmine-snapshot.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"difflib\"), require(\"vkbeautify\"), require(\"x2js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"jasmine-snapshot\", [\"difflib\", \"vkbeautify\", \"x2js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jasmine-snapshot\"] = factory(require(\"difflib\"), require(\"vkbeautify\"), require(\"x2js\"));\n\telse\n\t\troot[\"jasmine-snapshot\"] = factory(root[\"difflib\"], root[\"vkbeautify\"], root[\"x2js\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0fc7772f809ab5e29e4b","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"difflib\"), require(\"vkbeautify\"), require(\"x2js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"jasmine-snapshot\", [\"difflib\", \"vkbeautify\", \"x2js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jasmine-snapshot\"] = factory(require(\"difflib\"), require(\"vkbeautify\"), require(\"x2js\"));\n\telse\n\t\troot[\"jasmine-snapshot\"] = factory(root[\"difflib\"], root[\"vkbeautify\"], root[\"x2js\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nvar nativeWarn = console.warn;\r\nconsole.warn = function () {\r\n    if ((arguments.length > 0)\r\n        && (typeof arguments[0] === \"string\")\r\n        && (arguments[0].indexOf(\"[xmldom \") !== -1)) {\r\n        return;\r\n    }\r\n    nativeWarn.apply(console, arguments);\r\n};\r\nvar nativeError = console.error;\r\nconsole.error = function () {\r\n    if ((arguments.length > 0)\r\n        && (typeof arguments[0] === \"string\")\r\n        && (arguments[0].indexOf(\"entity not found\") !== -1)) {\r\n        return;\r\n    }\r\n    nativeError.apply(console, arguments);\r\n};\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar difflib = __webpack_require__(1);\r\nvar vkbeautify_1 = __webpack_require__(2);\r\nvar X2JS = __webpack_require__(3);\r\n__webpack_require__(0);\r\nvar current_snapshot_object = {};\r\nfunction registerSnapshots(snapshot_object, name) {\r\n    current_snapshot_object = snapshot_object;\r\n    current_suite = new AutoSnapshotSuite(current_level, name);\r\n}\r\nexports.registerSnapshots = registerSnapshots;\r\nvar AutoSnapshot = (function () {\r\n    function AutoSnapshot() {\r\n    }\r\n    return AutoSnapshot;\r\n}());\r\nvar auto_snapshot_siute_history = new Array();\r\nvar AutoSnapshotSuite = (function () {\r\n    function AutoSnapshotSuite(snapshot_level, suite_name) {\r\n        this.snapshots = Array();\r\n        this.level = 0;\r\n        this.fail_counter_for_autosnapshot = 0;\r\n        this.last_automagic_snapshot_spec = \"\";\r\n        this.last_automagic_snapshot_number = 0;\r\n        this.level = snapshot_level;\r\n        this.name = suite_name;\r\n    }\r\n    AutoSnapshotSuite.prototype.getSnapshotAutomagically_saveActual = function (actual) {\r\n        var auto_snapshot = new AutoSnapshot();\r\n        if (current_spec === this.last_automagic_snapshot_spec) {\r\n            this.last_automagic_snapshot_number++;\r\n        }\r\n        else {\r\n            this.last_automagic_snapshot_number = 1;\r\n            this.last_automagic_snapshot_spec = current_spec;\r\n        }\r\n        auto_snapshot.key = create_one_liner(current_spec + \" \" + this.last_automagic_snapshot_number);\r\n        auto_snapshot.text = create_one_liner(actual);\r\n        this.snapshots.push(auto_snapshot);\r\n        var snapshot = current_snapshot_object[auto_snapshot.key];\r\n        return snapshot ? snapshot : \"\";\r\n    };\r\n    AutoSnapshotSuite.prototype.hasFailure = function () {\r\n        return this.fail_counter_for_autosnapshot > 0;\r\n    };\r\n    AutoSnapshotSuite.prototype.reportFailure = function (diff) {\r\n        this.snapshots[this.snapshots.length - 1].diff = diff;\r\n        this.fail_counter_for_autosnapshot++;\r\n    };\r\n    AutoSnapshotSuite.prototype.getText = function () {\r\n        var snapshot_file_text = \"\\n**** If actual is valid, update your snapshot with the following ****\\n{\";\r\n        var has_snapshots = false;\r\n        for (var _i = 0, _a = this.snapshots; _i < _a.length; _i++) {\r\n            var snapshot = _a[_i];\r\n            has_snapshots = true;\r\n            snapshot_file_text += \"\\n\\t\\\"\" + snapshot.key + \"\\\": `\" + snapshot.text + \"`,\";\r\n        }\r\n        if (has_snapshots) {\r\n            snapshot_file_text = snapshot_file_text.slice(0, snapshot_file_text.length - 1);\r\n            snapshot_file_text += \"\\n}\\n\\n\";\r\n        }\r\n        return snapshot_file_text;\r\n    };\r\n    AutoSnapshotSuite.prototype.pushToHistory = function () {\r\n        auto_snapshot_siute_history.push(this);\r\n    };\r\n    AutoSnapshotSuite.prototype.getHTML = function () {\r\n        if (typeof document !== 'undefined') {\r\n            document.body.style.fontFamily = \"Courier New\";\r\n            document.body.style.whiteSpace = \"nowrap\";\r\n        }\r\n        if (!this.name) {\r\n            throw \"name not defined for snapshot suite\";\r\n        }\r\n        if (!this.hasFailure()) {\r\n            return \"<p style=\\\"color: green; font-size: 25px; font-weight: bold;\\\">===Auto snapshot suite, \" + this.name + \", has no problems!===</p>\";\r\n        }\r\n        var snapshot_file_html = \"<p style=\\\"color: red; font-size: 25px; font-weight: bold;\\\">===Suite, \" + this.name + \", had problems===</p>\";\r\n        this.snapshots.forEach(function (snapshot) {\r\n            if (snapshot.diff) {\r\n                snapshot_file_html += \"<div>>Test: \\\"\" + snapshot.key + \"\\\" did not match the snapshot:</div><br //>\";\r\n                snapshot.diff.forEach(function (d) {\r\n                    if (d.length >= 3 && (d.slice(0, 3) === \"---\" || d.slice(0, 3) === \"+++\") || d.slice(0, 2) === \"@@\") {\r\n                        return;\r\n                    }\r\n                    else if (d.charAt(0) === \"-\") {\r\n                        snapshot_file_html += \"<span style=\\\"color: red\\\">\" + d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\") + \"</span><br //>\";\r\n                    }\r\n                    else if (d.charAt(0) === \"+\") {\r\n                        snapshot_file_html += \"<span style=\\\"color: green\\\">\" + d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\") + \"</span><br //>\";\r\n                    }\r\n                    else {\r\n                        snapshot_file_html += d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\") + \"<br //>\";\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        snapshot_file_html += \"<p style=\\\"text-decoration: underline; font-weight: bold;\\\">If actual is valid, update your snapshot with the following <//p>\";\r\n        snapshot_file_html += \"<div style='color: blue;'>{\";\r\n        var has_snapshots = false;\r\n        for (var _i = 0, _a = this.snapshots; _i < _a.length; _i++) {\r\n            var snapshot = _a[_i];\r\n            has_snapshots = true;\r\n            snapshot_file_html += \"<br //>&nbsp;&nbsp;&nbsp;&nbsp;\\\"\" + snapshot.key + \"\\\": `\" + snapshot.text.replace(/&nbsp;/g, \"&amp;nbsp;\") + \"`,\";\r\n        }\r\n        if (has_snapshots) {\r\n            snapshot_file_html = snapshot_file_html.slice(0, snapshot_file_html.length - 1);\r\n            snapshot_file_html += \"<br //>}</div></p>\";\r\n        }\r\n        return snapshot_file_html;\r\n    };\r\n    return AutoSnapshotSuite;\r\n}());\r\nvar current_suite;\r\nvar current_spec = \"\";\r\nvar current_level = 0;\r\njasmine.getEnv().addReporter({\r\n    suiteStarted: function (result) {\r\n        current_level++;\r\n    },\r\n    specStarted: function (result) {\r\n        current_spec = result.fullName;\r\n    },\r\n    suiteDone: function (result) {\r\n        current_level--;\r\n        if (current_suite && current_level < current_suite.level) {\r\n            if (current_suite.hasFailure) {\r\n            }\r\n            current_suite.pushToHistory();\r\n            current_suite = null;\r\n        }\r\n    },\r\n    jasmineDone: function (results) {\r\n        if (current_suite) {\r\n            if (current_suite.hasFailure) {\r\n            }\r\n            current_suite.pushToHistory();\r\n            current_suite = null;\r\n        }\r\n        if (auto_snapshot_siute_history.length === 0) {\r\n            return;\r\n        }\r\n        var html_summary = auto_snapshot_siute_history.reduce(function (prev_html, curr_suite) {\r\n            return prev_html + \"<br //>\" + curr_suite.getHTML();\r\n        }, \"\");\r\n        if (typeof document !== 'undefined') {\r\n            document.body.innerHTML = html_summary + document.body.innerHTML;\r\n        }\r\n        else {\r\n            console.log(html_summary);\r\n        }\r\n    }\r\n});\r\nexports.KeyExceptionList = [\"typeof\"];\r\nfunction ResetExceptionList() {\r\n    exports.KeyExceptionList = [\"typeof\"];\r\n}\r\nexports.ResetExceptionList = ResetExceptionList;\r\nfunction MatchesSnapshot(snapshot, actual, automagic) {\r\n    if (actual !== snapshot) {\r\n        var diff = difflib.unifiedDiff(snapshot.split(\"\\n\"), actual.split(\"\\n\"));\r\n        if (automagic) {\r\n            if (!current_suite) {\r\n                throw \"autoagic snapshot with no registered snapshot object\";\r\n            }\r\n            current_suite.reportFailure(diff);\r\n        }\r\n        var diff_string_1 = \"\\n\";\r\n        diff_string_1 += \"**** \" + current_spec + \" diff *****\\n\\n\";\r\n        diff.forEach(function (d) {\r\n            if (d !== \"--- \\n\" && d !== \"+++ \\n\" &&\r\n                !(d.length > 5 && d.slice(0, 2) === \"@@\")) {\r\n                diff_string_1 += d + \"\\n\";\r\n            }\r\n        });\r\n        diff_string_1 += \"\\n\";\r\n        if (!automagic) {\r\n            var one_line_actual = create_one_liner(actual);\r\n            diff_string_1 += \"**** If the Actual is valid, update the snapshot with this ****\\n\";\r\n            diff_string_1 += \" ----- Formatted ------\\n\" + actual + \"\\n\\n ----- Single Line ------\\n\" + one_line_actual;\r\n        }\r\n        console.error(diff_string_1);\r\n        fail(\"Actual does not match snapshot. See above. \");\r\n    }\r\n}\r\nexports.MatchesSnapshot = MatchesSnapshot;\r\nfunction create_one_liner(actual) {\r\n    var one_line_actual = actual.replace(/\\n/g, \"\").replace(/\\t/g, \"\").replace(/\\\\\"/g, \"\\\\\\\\\\\\\\\"\");\r\n    while (one_line_actual.indexOf(\"  \") !== -1) {\r\n        one_line_actual = one_line_actual.replace(/(  )/g, \" \");\r\n    }\r\n    return one_line_actual;\r\n}\r\nfunction MatchesXMLSnapshot(snapshot, actual) {\r\n    expectxml(actual).toMatchSnapshot(snapshot);\r\n}\r\nexports.MatchesXMLSnapshot = MatchesXMLSnapshot;\r\nfunction MatchesJSONSnapshot(snapshot, actual) {\r\n    var prettyActual = actual ? vkbeautify_1.json(actual) : actual;\r\n    var prettySnapshot = snapshot ? vkbeautify_1.json(snapshot) : snapshot;\r\n    MatchesSnapshot(prettySnapshot, prettyActual);\r\n}\r\nexports.MatchesJSONSnapshot = MatchesJSONSnapshot;\r\nfunction MatchesJSSnapshot(snapshot, actual) {\r\n    expectjs(actual).toMatchSnapshot(snapshot);\r\n}\r\nexports.MatchesJSSnapshot = MatchesJSSnapshot;\r\nfunction expectjs(actual) {\r\n    return new SnapshotJSInner(actual);\r\n}\r\nexports.expectjs = expectjs;\r\nfunction expectxml(xml_actual) {\r\n    return new SnapshotXMLInner(xml_actual);\r\n}\r\nexports.expectxml = expectxml;\r\nvar SnapshotInner = (function () {\r\n    function SnapshotInner(actual) {\r\n        this.actual = actual;\r\n    }\r\n    SnapshotInner.prototype.afterApplying = function (transformFunction) {\r\n        this.actual = transformFunction(this.actual);\r\n        return this;\r\n    };\r\n    return SnapshotInner;\r\n}());\r\nvar SnapshotJSInner = (function (_super) {\r\n    __extends(SnapshotJSInner, _super);\r\n    function SnapshotJSInner(actual) {\r\n        var _this = _super.call(this, actual) || this;\r\n        _this.parsed_values = new Array();\r\n        _this.actual = actual;\r\n        return _this;\r\n    }\r\n    SnapshotJSInner.prototype.toMatchSnapshot = function (snapshot) {\r\n        var prettyActual = this.actual ? vkbeautify_1.json(this.getOrderedStringifyAndClean()) : \"\";\r\n        var prettySnapshot = snapshot;\r\n        var use_autosnapshot = false;\r\n        if (snapshot === null || snapshot === undefined) {\r\n            if (!current_suite) {\r\n                throw \"Use of autosnapshot without registering snapshot object\";\r\n            }\r\n            use_autosnapshot = true;\r\n            var auto_snapshot = current_suite.getSnapshotAutomagically_saveActual(prettyActual);\r\n            prettySnapshot = auto_snapshot ? vkbeautify_1.json(auto_snapshot) : \"\";\r\n        }\r\n        else {\r\n            prettySnapshot = snapshot ? vkbeautify_1.json(snapshot) : snapshot;\r\n        }\r\n        MatchesSnapshot(prettySnapshot, prettyActual, use_autosnapshot);\r\n    };\r\n    SnapshotJSInner.prototype.getOrderedStringifyAndClean = function () {\r\n        var keys = this.collectAllKeysAndRemoveCircular(this.actual);\r\n        return JSON.stringify(this.actual, keys);\r\n    };\r\n    SnapshotJSInner.prototype.collectAllKeysAndRemoveCircular = function (js_object) {\r\n        var _this = this;\r\n        var allKeys = new Array();\r\n        var json = JSON.stringify(js_object, function (key, val) {\r\n            if (_this.isIEPooOrCurcularReferences(key, val)) {\r\n                return;\r\n            }\r\n            allKeys.push(key);\r\n            return val;\r\n        });\r\n        this.actual = JSON.parse(json);\r\n        return allKeys.sort(function (a, b) { return (a > b) ? 1 : -1; });\r\n    };\r\n    SnapshotJSInner.prototype.isIEPooOrCurcularReferences = function (key, value) {\r\n        if (typeof key === \"string\" && exports.KeyExceptionList.some(function (ex) { return key.indexOf(ex) !== -1; })) {\r\n            return true;\r\n        }\r\n        else if (this.IsCurcularDependency(value)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    SnapshotJSInner.prototype.IsCurcularDependency = function (value) {\r\n        if (value && typeof value === \"object\") {\r\n            if (this.parsed_values.indexOf(value) === -1) {\r\n                this.parsed_values.push(value);\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return SnapshotJSInner;\r\n}(SnapshotInner));\r\nexports.SnapshotJSInner = SnapshotJSInner;\r\nvar SnapshotXMLInner = (function (_super) {\r\n    __extends(SnapshotXMLInner, _super);\r\n    function SnapshotXMLInner(xml_actual) {\r\n        var _this = _super.call(this, xml_actual) || this;\r\n        _this.actual = xml_actual;\r\n        return _this;\r\n    }\r\n    SnapshotXMLInner.prototype.toMatchSnapshot = function (snapshot) {\r\n        var X2JS2 = X2JS;\r\n        var x2js = new X2JS2();\r\n        var js_actual = x2js.xml2js(this.actual);\r\n        expectjs(js_actual).toMatchSnapshot(snapshot);\r\n    };\r\n    return SnapshotXMLInner;\r\n}(SnapshotInner));\r\nexports.SnapshotXMLInner = SnapshotXMLInner;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// jasmine-snapshot.min.js","let nativeWarn = console.warn;\r\nconsole.warn = function ()\r\n{\r\n    if (\r\n        (arguments.length > 0)\r\n        && (typeof arguments[0] === \"string\")\r\n        && (arguments[0].indexOf(\"[xmldom \") !== -1)\r\n    )\r\n    {\r\n        return;\r\n    }\r\n    nativeWarn.apply(console, arguments);\r\n};\r\n\r\nlet nativeError = console.error;\r\nconsole.error = function ()\r\n{\r\n    if (\r\n        (arguments.length > 0)\r\n        && (typeof arguments[0] === \"string\")\r\n        && (arguments[0].indexOf(\"entity not found\") !== -1)\r\n    )\r\n    {\r\n        return;\r\n    }\r\n    nativeError.apply(console, arguments);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/overrideconsole.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"difflib\"\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vkbeautify\"\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"x2js\"\n// module id = 3\n// module chunks = 0","import * as difflib from \"difflib\";\r\nimport { xml, json } from \"vkbeautify\";\r\nimport X2JS = require(\"x2js\");\r\nimport \"./overrideconsole\";\r\n\r\nlet current_snapshot_object: { [key: string]: string } = {};\r\nexport function registerSnapshots(snapshot_object: { [key: string]: string }, name: string)\r\n{\r\n    current_snapshot_object = snapshot_object;\r\n    current_suite = new AutoSnapshotSuite(current_level, name);\r\n}\r\n\r\nclass AutoSnapshot\r\n{\r\n    public key: string;\r\n    public text: string;\r\n    public diff: Array<string>;\r\n}\r\n\r\nlet auto_snapshot_siute_history = new Array<AutoSnapshotSuite>();\r\nclass AutoSnapshotSuite\r\n{\r\n    public snapshots = Array<AutoSnapshot>();\r\n    public level = 0;\r\n    private fail_counter_for_autosnapshot = 0;\r\n    private last_automagic_snapshot_spec = \"\";\r\n    private last_automagic_snapshot_number = 0;\r\n    private name: string;\r\n\r\n    constructor(snapshot_level: number, suite_name: string)\r\n    {\r\n        this.level = snapshot_level;\r\n        this.name = suite_name;\r\n    }\r\n\r\n    public getSnapshotAutomagically_saveActual(actual: string): string\r\n    {\r\n        let auto_snapshot = new AutoSnapshot();\r\n\r\n        if (current_spec === this.last_automagic_snapshot_spec)\r\n        {\r\n            this.last_automagic_snapshot_number++;\r\n        }\r\n        else\r\n        {\r\n            this.last_automagic_snapshot_number = 1;\r\n            this.last_automagic_snapshot_spec = current_spec;\r\n        }\r\n\r\n        auto_snapshot.key = create_one_liner(`${current_spec} ${this.last_automagic_snapshot_number}`);\r\n        auto_snapshot.text = create_one_liner(actual);\r\n        this.snapshots.push(auto_snapshot);\r\n\r\n        let snapshot = current_snapshot_object[auto_snapshot.key];\r\n        return snapshot ? snapshot : \"\";\r\n    }\r\n\r\n    public hasFailure(): boolean\r\n    {\r\n        return this.fail_counter_for_autosnapshot > 0;\r\n    }\r\n\r\n    public reportFailure(diff: Array<string>)\r\n    {\r\n        this.snapshots[this.snapshots.length - 1].diff = diff;\r\n        this.fail_counter_for_autosnapshot++;\r\n    }\r\n\r\n    public getText(): string\r\n    {\r\n        let snapshot_file_text = \"\\n**** If actual is valid, update your snapshot with the following ****\\n{\";\r\n\r\n        let has_snapshots = false;\r\n\r\n        for (let snapshot of this.snapshots)\r\n        {\r\n            has_snapshots = true;\r\n            snapshot_file_text += `\\n\\t\"${snapshot.key}\": \\`${snapshot.text}\\`,`;\r\n        }\r\n\r\n        if (has_snapshots)\r\n        {\r\n            snapshot_file_text = snapshot_file_text.slice(0, snapshot_file_text.length - 1);\r\n            snapshot_file_text += \"\\n}\\n\\n\";\r\n        }\r\n\r\n        return snapshot_file_text;\r\n    }\r\n\r\n    public pushToHistory()\r\n    {\r\n        auto_snapshot_siute_history.push(this);\r\n    }\r\n\r\n    public getHTML(): string\r\n    {\r\n        if(typeof document !== 'undefined') {\r\n            document.body.style.fontFamily = \"Courier New\";\r\n            document.body.style.whiteSpace = \"nowrap\";\r\n        }\r\n        if (!this.name) { throw \"name not defined for snapshot suite\"; }\r\n\r\n        if (!this.hasFailure())\r\n        {\r\n            return `<p style=\"color: green; font-size: 25px; font-weight: bold;\">===Auto snapshot suite, ${this.name}, has no problems!===</p>`;\r\n        }\r\n\r\n        let snapshot_file_html = `<p style=\"color: red; font-size: 25px; font-weight: bold;\">===Suite, ${this.name}, had problems===</p>`;\r\n\r\n        this.snapshots.forEach((snapshot) =>\r\n        {\r\n            if (snapshot.diff)\r\n            {\r\n                snapshot_file_html += `<div>>Test: \"${snapshot.key}\" did not match the snapshot:</div><br //>`;\r\n                snapshot.diff.forEach((d) =>\r\n                {\r\n                    if (d.length >= 3 && (d.slice(0, 3) === \"---\" || d.slice(0, 3) === \"+++\") || d.slice(0, 2) === \"@@\")\r\n                    {\r\n                        return;\r\n                    }\r\n                    else if (d.charAt(0) === \"-\")\r\n                    {\r\n                        snapshot_file_html += `<span style=\"color: red\">${d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\")}</span><br //>`;\r\n                    }\r\n                    else if (d.charAt(0) === \"+\")\r\n                    {\r\n                        snapshot_file_html += `<span style=\"color: green\">${d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\")}</span><br //>`;\r\n                    }\r\n                    else\r\n                    {\r\n                        snapshot_file_html += `${d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\")}<br //>`;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        snapshot_file_html += `<p style=\"text-decoration: underline; font-weight: bold;\">If actual is valid, update your snapshot with the following <//p>`;\r\n        snapshot_file_html += \"<div style='color: blue;'>{\";\r\n\r\n        let has_snapshots = false;\r\n\r\n        for (let snapshot of this.snapshots)\r\n        {\r\n            has_snapshots = true;\r\n            snapshot_file_html += `<br //>&nbsp;&nbsp;&nbsp;&nbsp;\"${snapshot.key}\": \\`${snapshot.text.replace(/&nbsp;/g, \"&amp;nbsp;\")}\\`,`;\r\n        }\r\n\r\n        if (has_snapshots)\r\n        {\r\n            snapshot_file_html = snapshot_file_html.slice(0, snapshot_file_html.length - 1);\r\n            snapshot_file_html += \"<br //>}</div></p>\";\r\n        }\r\n\r\n        return snapshot_file_html;\r\n    }\r\n}\r\n\r\n/************ Jasmine Reporter ************/\r\n\r\nlet current_suite: AutoSnapshotSuite | null;\r\nlet current_spec = \"\";\r\nlet current_level = 0;\r\njasmine.getEnv().addReporter({\r\n    suiteStarted: function (result)\r\n    {\r\n        current_level++;\r\n    },\r\n    specStarted: function (result)\r\n    {\r\n        current_spec = result.fullName;\r\n    },\r\n    suiteDone: function (result)\r\n    {\r\n        current_level--;\r\n\r\n        if (current_suite && current_level < current_suite.level)\r\n        {\r\n            if (current_suite.hasFailure)\r\n            {\r\n                // console.error(current_suite.getText());\r\n            }\r\n\r\n            current_suite.pushToHistory();\r\n            current_suite = null;\r\n        }\r\n    },\r\n    jasmineDone: function (results)\r\n    {\r\n        if (current_suite)\r\n        {\r\n            if (current_suite.hasFailure)\r\n            {\r\n                // console.error(current_suite.getText());\r\n            }\r\n\r\n            current_suite.pushToHistory();\r\n            current_suite = null;\r\n        }\r\n\r\n        if (auto_snapshot_siute_history.length === 0)\r\n        {\r\n            return;\r\n        }\r\n\r\n        let html_summary = auto_snapshot_siute_history.reduce(\r\n            (prev_html, curr_suite) =>\r\n            {\r\n                return prev_html + \"<br //>\" + curr_suite.getHTML();\r\n            }, \"\");\r\n\r\n        if(typeof document !== 'undefined') {\r\n            document.body.innerHTML = html_summary + document.body.innerHTML;\r\n        } else {\r\n            console.log(html_summary);\r\n        }\r\n    }\r\n});\r\n\r\n/*************** Matching logic ***************/\r\n\r\n/**\r\n * Add more entries to this array if you have other exclusions for snapshot checks\r\n */\r\nexport let KeyExceptionList = [\"typeof\"];\r\n\r\nexport function ResetExceptionList()\r\n{\r\n    KeyExceptionList = [\"typeof\"];\r\n}\r\n\r\ndeclare var console;\r\n\r\nexport function MatchesSnapshot(snapshot: string, actual: string, automagic?: boolean)\r\n{\r\n    if (actual !== snapshot)\r\n    {\r\n        let diff: string[] = difflib.unifiedDiff(snapshot.split(\"\\n\"), actual.split(\"\\n\"));\r\n\r\n        if (automagic)\r\n        {\r\n            if (!current_suite) { throw \"autoagic snapshot with no registered snapshot object\"; }\r\n\r\n            current_suite.reportFailure(diff);\r\n        }\r\n\r\n        let diff_string = \"\\n\";\r\n        diff_string += `**** ${current_spec} diff *****\\n\\n`;\r\n\r\n        diff.forEach(d =>\r\n        {\r\n            if (d !== \"--- \\n\" && d !== \"+++ \\n\" &&\r\n                !(d.length > 5 && d.slice(0, 2) === \"@@\"))\r\n            {\r\n                diff_string += d + \"\\n\";\r\n            }\r\n        });\r\n\r\n        diff_string += \"\\n\";\r\n\r\n        if (!automagic)\r\n        {\r\n            let one_line_actual = create_one_liner(actual);\r\n\r\n            diff_string += \"**** If the Actual is valid, update the snapshot with this ****\\n\";\r\n            diff_string += ` ----- Formatted ------\\n${actual}\\n\\n ----- Single Line ------\\n${one_line_actual}`;\r\n        }\r\n        console.error(diff_string);\r\n\r\n        fail(`Actual does not match snapshot. See above. `);\r\n    }\r\n}\r\n\r\nfunction create_one_liner(actual: string)\r\n{\r\n    let one_line_actual = actual.replace(/\\n/g, \"\").replace(/\\t/g, \"\").replace(/\\\\\"/g, `\\\\\\\\\\\\\"`);\r\n    while (one_line_actual.indexOf(\"  \") !== -1)\r\n    {\r\n        one_line_actual = one_line_actual.replace(/(  )/g, \" \");\r\n    }\r\n\r\n    return one_line_actual;\r\n}\r\n\r\n/**\r\n * compares an HTML or XML values to a snapshot\r\n * @param snapshot the snapshot to compare the actual to\r\n * @param actual the actual xml/html string to compare to the snapshot\r\n */\r\nexport function MatchesXMLSnapshot(snapshot: string, actual: string)\r\n{\r\n    expectxml(actual).toMatchSnapshot(snapshot);\r\n}\r\n\r\n/**\r\n * compares a snapshot to a json string\r\n * @param snapshot the snapshot to compare the actual to\r\n * @param actual the json string to compare to the snapshot\r\n */\r\nexport function MatchesJSONSnapshot(snapshot: string, actual: string)\r\n{\r\n    let prettyActual = actual ? json(actual) : actual;\r\n    let prettySnapshot = snapshot ? json(snapshot) : snapshot;\r\n\r\n    MatchesSnapshot(prettySnapshot, prettyActual);\r\n}\r\n\r\n/**\r\n * Compares the snapshot to the actual option. Note this method will stringify\r\n * the actual value for the snnapshot compare and remove any key/values that contain the\r\n * strings in the KeyExceptionList\r\n * @param snapshot the snapshot to compare the actual to\r\n * @param actual The actual JS object to compare to the snapshot\r\n */\r\nexport function MatchesJSSnapshot(snapshot: string, actual: any)\r\n{\r\n    expectjs(actual).toMatchSnapshot(snapshot);\r\n}\r\n\r\nexport function expectjs(actual: Object)\r\n{\r\n    return new SnapshotJSInner(actual);\r\n}\r\n\r\nexport function expectxml(xml_actual: string)\r\n{\r\n    return new SnapshotXMLInner(xml_actual);\r\n}\r\n\r\nabstract class SnapshotInner<T extends Object | string>\r\n{\r\n    protected actual: T;\r\n\r\n    constructor(actual: T)\r\n    {\r\n        this.actual = actual;\r\n    }\r\n\r\n    public afterApplying(transformFunction: (actual: T) => T)\r\n    {\r\n        this.actual = transformFunction(this.actual);\r\n        return this;\r\n    }\r\n}\r\n\r\nexport class SnapshotJSInner extends SnapshotInner<Object>\r\n{\r\n    private parsed_values = new Array<object>();\r\n\r\n    constructor(actual: Object)\r\n    {\r\n        super(actual);\r\n        this.actual = actual;\r\n    }\r\n\r\n    public toMatchSnapshot(snapshot?: string): void\r\n    {\r\n        let prettyActual = this.actual ? json(this.getOrderedStringifyAndClean()) : \"\";\r\n\r\n        let prettySnapshot = snapshot;\r\n        let use_autosnapshot = false;\r\n        if (snapshot === null || snapshot === undefined)\r\n        {\r\n            if (!current_suite) { throw \"Use of autosnapshot without registering snapshot object\"; }\r\n\r\n            use_autosnapshot = true;\r\n            let auto_snapshot = current_suite.getSnapshotAutomagically_saveActual(prettyActual);\r\n            prettySnapshot = auto_snapshot ? json(auto_snapshot) : \"\";\r\n        }\r\n        else\r\n        {\r\n            prettySnapshot = snapshot ? json(snapshot) : snapshot;\r\n        }\r\n\r\n        MatchesSnapshot(prettySnapshot, prettyActual, use_autosnapshot);\r\n    }\r\n\r\n    private getOrderedStringifyAndClean()\r\n    {\r\n        let keys = this.collectAllKeysAndRemoveCircular(this.actual);\r\n        return JSON.stringify(this.actual, keys);\r\n    }\r\n\r\n    private collectAllKeysAndRemoveCircular(js_object: any)\r\n    {\r\n        const allKeys = new Array<string>();\r\n\r\n        let json = JSON.stringify(js_object, (key: string, val: any) =>\r\n        {\r\n            if (this.isIEPooOrCurcularReferences(key, val))\r\n            {\r\n                return;\r\n            }\r\n\r\n            allKeys.push(key);\r\n            return val;\r\n        });\r\n\r\n        this.actual = JSON.parse(json);\r\n\r\n        return allKeys.sort((a: string, b: string) => (a > b) ? 1 : -1);\r\n    }\r\n\r\n    private isIEPooOrCurcularReferences(key, value)\r\n    {\r\n        if (typeof key === \"string\" && KeyExceptionList.some((ex) => key.indexOf(ex) !== -1))\r\n        {\r\n            return true;\r\n        }\r\n        else if (this.IsCurcularDependency(value))\r\n        {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private IsCurcularDependency(value: any)\r\n    {\r\n        if (value && typeof value === \"object\")\r\n        {\r\n            if (this.parsed_values.indexOf(value) === -1)\r\n            {\r\n                this.parsed_values.push(value);\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nexport class SnapshotXMLInner extends SnapshotInner<string>\r\n{\r\n    constructor(xml_actual: string)\r\n    {\r\n        super(xml_actual);\r\n        this.actual = xml_actual;\r\n    }\r\n\r\n    public toMatchSnapshot(snapshot?: string): void\r\n    {\r\n        const X2JS2 = X2JS as any; // don't hate me, their typings suck\r\n        const x2js = new X2JS2();\r\n\r\n        let js_actual = x2js.xml2js(this.actual);\r\n        expectjs(js_actual).toMatchSnapshot(snapshot);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}