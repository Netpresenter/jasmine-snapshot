{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///jasmine-snapshot.min.js","webpack:///webpack/bootstrap 0a11604bc69c6a791c9e","webpack:///./src/overrideconsole.ts","webpack:///external \"difflib\"","webpack:///external \"vkbeautify\"","webpack:///external \"x2js\"","webpack:///./src/index.ts"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","nativeWarn","console","warn","arguments","length","indexOf","apply","nativeError","error","registerSnapshots","snapshot_object","current_snapshot_object","current_suite","AutoSnapshotSuite","current_level","ResetExceptionList","KeyExceptionList","MatchesSnapshot","snapshot","actual","automagic","diff","difflib","unifiedDiff","split","reportFailure","diff_string_1","current_spec","forEach","slice","one_line_actual","create_one_liner","fail","replace","MatchesXMLSnapshot","expectxml","toMatchSnapshot","MatchesJSONSnapshot","prettyActual","vkbeautify_1","json","MatchesJSSnapshot","expectjs","SnapshotJSInner","xml_actual","SnapshotXMLInner","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","create","X2JS","AutoSnapshot","auto_snapshot_siute_history","snapshot_level","suite_name","snapshots","level","fail_counter_for_autosnapshot","last_automagic_snapshot_spec","last_automagic_snapshot_number","getSnapshotAutomagically_saveActual","auto_snapshot","key","text","push","hasFailure","getText","snapshot_file_text","has_snapshots","_i","_a","pushToHistory","getHTML","document","body","style","fontFamily","whiteSpace","snapshot_file_html","charAt","jasmine","getEnv","addReporter","suiteStarted","result","specStarted","fullName","suiteDone","jasmineDone","results","html_summary","reduce","prev_html","curr_suite","innerHTML","log","SnapshotInner","afterApplying","transformFunction","_super","_this","parsed_values","getOrderedStringifyAndClean","prettySnapshot","use_autosnapshot","undefined","keys","collectAllKeysAndRemoveCircular","JSON","stringify","js_object","allKeys","val","isIEPooOrCurcularReferences","parse","sort","a","some","ex","IsCurcularDependency","xml2js"],"mappings":"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","file":"jasmine-snapshot.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"difflib\"), require(\"vkbeautify\"), require(\"x2js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"jasmine-snapshot\", [\"difflib\", \"vkbeautify\", \"x2js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jasmine-snapshot\"] = factory(require(\"difflib\"), require(\"vkbeautify\"), require(\"x2js\"));\n\telse\n\t\troot[\"jasmine-snapshot\"] = factory(root[\"difflib\"], root[\"vkbeautify\"], root[\"x2js\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"difflib\"), require(\"vkbeautify\"), require(\"x2js\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"jasmine-snapshot\", [\"difflib\", \"vkbeautify\", \"x2js\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jasmine-snapshot\"] = factory(require(\"difflib\"), require(\"vkbeautify\"), require(\"x2js\"));\n\telse\n\t\troot[\"jasmine-snapshot\"] = factory(root[\"difflib\"], root[\"vkbeautify\"], root[\"x2js\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nvar nativeWarn = console.warn;\r\nconsole.warn = function () {\r\n    if ((arguments.length > 0)\r\n        && (typeof arguments[0] === \"string\")\r\n        && (arguments[0].indexOf(\"[xmldom \") !== -1)) {\r\n        return;\r\n    }\r\n    nativeWarn.apply(console, arguments);\r\n};\r\nvar nativeError = console.error;\r\nconsole.error = function () {\r\n    if ((arguments.length > 0)\r\n        && (typeof arguments[0] === \"string\")\r\n        && (arguments[0].indexOf(\"entity not found\") !== -1)) {\r\n        return;\r\n    }\r\n    nativeError.apply(console, arguments);\r\n};\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar difflib = __webpack_require__(1);\r\nvar vkbeautify_1 = __webpack_require__(2);\r\nvar X2JS = __webpack_require__(3);\r\n__webpack_require__(0);\r\nvar current_snapshot_object = {};\r\nfunction registerSnapshots(snapshot_object, name) {\r\n    current_snapshot_object = snapshot_object;\r\n    current_suite = new AutoSnapshotSuite(current_level, name);\r\n}\r\nexports.registerSnapshots = registerSnapshots;\r\nvar AutoSnapshot = (function () {\r\n    function AutoSnapshot() {\r\n    }\r\n    return AutoSnapshot;\r\n}());\r\nvar auto_snapshot_siute_history = new Array();\r\nvar AutoSnapshotSuite = (function () {\r\n    function AutoSnapshotSuite(snapshot_level, suite_name) {\r\n        this.snapshots = Array();\r\n        this.level = 0;\r\n        this.fail_counter_for_autosnapshot = 0;\r\n        this.last_automagic_snapshot_spec = \"\";\r\n        this.last_automagic_snapshot_number = 0;\r\n        this.level = snapshot_level;\r\n        this.name = suite_name;\r\n    }\r\n    AutoSnapshotSuite.prototype.getSnapshotAutomagically_saveActual = function (actual) {\r\n        var auto_snapshot = new AutoSnapshot();\r\n        if (current_spec === this.last_automagic_snapshot_spec) {\r\n            this.last_automagic_snapshot_number++;\r\n        }\r\n        else {\r\n            this.last_automagic_snapshot_number = 1;\r\n            this.last_automagic_snapshot_spec = current_spec;\r\n        }\r\n        auto_snapshot.key = create_one_liner(current_spec + \" \" + this.last_automagic_snapshot_number);\r\n        auto_snapshot.text = create_one_liner(actual);\r\n        this.snapshots.push(auto_snapshot);\r\n        var snapshot = current_snapshot_object[auto_snapshot.key];\r\n        return snapshot ? snapshot : \"\";\r\n    };\r\n    AutoSnapshotSuite.prototype.hasFailure = function () {\r\n        return this.fail_counter_for_autosnapshot > 0;\r\n    };\r\n    AutoSnapshotSuite.prototype.reportFailure = function (diff) {\r\n        this.snapshots[this.snapshots.length - 1].diff = diff;\r\n        this.fail_counter_for_autosnapshot++;\r\n    };\r\n    AutoSnapshotSuite.prototype.getText = function () {\r\n        var snapshot_file_text = \"\\n**** If actual is valid, update your snapshot with the following ****\\n{\";\r\n        var has_snapshots = false;\r\n        for (var _i = 0, _a = this.snapshots; _i < _a.length; _i++) {\r\n            var snapshot = _a[_i];\r\n            has_snapshots = true;\r\n            snapshot_file_text += \"\\n\\t\\\"\" + snapshot.key + \"\\\": `\" + snapshot.text + \"`,\";\r\n        }\r\n        if (has_snapshots) {\r\n            snapshot_file_text = snapshot_file_text.slice(0, snapshot_file_text.length - 1);\r\n            snapshot_file_text += \"\\n}\\n\\n\";\r\n        }\r\n        return snapshot_file_text;\r\n    };\r\n    AutoSnapshotSuite.prototype.pushToHistory = function () {\r\n        auto_snapshot_siute_history.push(this);\r\n    };\r\n    AutoSnapshotSuite.prototype.getHTML = function () {\r\n        if (typeof document !== 'undefined') {\r\n            document.body.style.fontFamily = \"Courier New\";\r\n            document.body.style.whiteSpace = \"nowrap\";\r\n        }\r\n        if (!this.name) {\r\n            throw \"name not defined for snapshot suite\";\r\n        }\r\n        if (!this.hasFailure()) {\r\n            return \"<p style=\\\"color: green; font-size: 25px; font-weight: bold;\\\">===Auto snapshot suite, \" + this.name + \", has no problems!===</p>\";\r\n        }\r\n        var snapshot_file_html = \"<p style=\\\"color: red; font-size: 25px; font-weight: bold;\\\">===Suite, \" + this.name + \", had problems===</p>\";\r\n        this.snapshots.forEach(function (snapshot) {\r\n            if (snapshot.diff) {\r\n                snapshot_file_html += \"<div>>Test: \\\"\" + snapshot.key + \"\\\" did not match the snapshot:</div><br //>\";\r\n                snapshot.diff.forEach(function (d) {\r\n                    if (d.length >= 3 && (d.slice(0, 3) === \"---\" || d.slice(0, 3) === \"+++\") || d.slice(0, 2) === \"@@\") {\r\n                        return;\r\n                    }\r\n                    else if (d.charAt(0) === \"-\") {\r\n                        snapshot_file_html += \"<span style=\\\"color: red\\\">\" + d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\") + \"</span><br //>\";\r\n                    }\r\n                    else if (d.charAt(0) === \"+\") {\r\n                        snapshot_file_html += \"<span style=\\\"color: green\\\">\" + d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\") + \"</span><br //>\";\r\n                    }\r\n                    else {\r\n                        snapshot_file_html += d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\") + \"<br //>\";\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        snapshot_file_html += \"<p style=\\\"text-decoration: underline; font-weight: bold;\\\">If actual is valid, update your snapshot with the following <//p>\";\r\n        snapshot_file_html += \"<div style='color: blue;'>{\";\r\n        var has_snapshots = false;\r\n        for (var _i = 0, _a = this.snapshots; _i < _a.length; _i++) {\r\n            var snapshot = _a[_i];\r\n            has_snapshots = true;\r\n            snapshot_file_html += \"<br //>&nbsp;&nbsp;&nbsp;&nbsp;\\\"\" + snapshot.key + \"\\\": `\" + snapshot.text.replace(/&nbsp;/g, \"&amp;nbsp;\") + \"`,\";\r\n        }\r\n        if (has_snapshots) {\r\n            snapshot_file_html = snapshot_file_html.slice(0, snapshot_file_html.length - 1);\r\n            snapshot_file_html += \"<br //>}</div></p>\";\r\n        }\r\n        return snapshot_file_html;\r\n    };\r\n    return AutoSnapshotSuite;\r\n}());\r\nvar current_suite;\r\nvar current_spec = \"\";\r\nvar current_level = 0;\r\njasmine.getEnv().addReporter({\r\n    suiteStarted: function (result) {\r\n        current_level++;\r\n    },\r\n    specStarted: function (result) {\r\n        current_spec = result.fullName;\r\n    },\r\n    suiteDone: function (result) {\r\n        current_level--;\r\n        if (current_suite && current_level < current_suite.level) {\r\n            if (current_suite.hasFailure) {\r\n            }\r\n            current_suite.pushToHistory();\r\n            current_suite = null;\r\n        }\r\n    },\r\n    jasmineDone: function (results) {\r\n        if (current_suite) {\r\n            if (current_suite.hasFailure) {\r\n            }\r\n            current_suite.pushToHistory();\r\n            current_suite = null;\r\n        }\r\n        if (auto_snapshot_siute_history.length === 0) {\r\n            return;\r\n        }\r\n        var html_summary = auto_snapshot_siute_history.reduce(function (prev_html, curr_suite) {\r\n            return prev_html + \"<br //>\" + curr_suite.getHTML();\r\n        }, \"\");\r\n        if (typeof document !== 'undefined') {\r\n            document.body.innerHTML = html_summary + document.body.innerHTML;\r\n        }\r\n        else {\r\n            console.log(html_summary);\r\n        }\r\n    }\r\n});\r\nexports.KeyExceptionList = [\"typeof\"];\r\nfunction ResetExceptionList() {\r\n    exports.KeyExceptionList = [\"typeof\"];\r\n}\r\nexports.ResetExceptionList = ResetExceptionList;\r\nfunction MatchesSnapshot(snapshot, actual, automagic) {\r\n    if (actual !== snapshot) {\r\n        var diff = difflib.unifiedDiff(snapshot.split(\"\\n\"), actual.split(\"\\n\"));\r\n        if (automagic) {\r\n            if (!current_suite) {\r\n                throw \"autoagic snapshot with no registered snapshot object\";\r\n            }\r\n            current_suite.reportFailure(diff);\r\n        }\r\n        var diff_string_1 = \"\\n\";\r\n        diff_string_1 += \"**** \" + current_spec + \" diff *****\\n\\n\";\r\n        diff.forEach(function (d) {\r\n            if (d !== \"--- \\n\" && d !== \"+++ \\n\" &&\r\n                !(d.length > 5 && d.slice(0, 2) === \"@@\")) {\r\n                diff_string_1 += d + \"\\n\";\r\n            }\r\n        });\r\n        diff_string_1 += \"\\n\";\r\n        if (!automagic) {\r\n            var one_line_actual = create_one_liner(actual);\r\n            diff_string_1 += \"**** If the Actual is valid, update the snapshot with this ****\\n\";\r\n            diff_string_1 += \" ----- Formatted ------\\n\" + actual + \"\\n\\n ----- Single Line ------\\n\" + one_line_actual;\r\n        }\r\n        console.error(diff_string_1);\r\n        fail(\"Actual does not match snapshot. See above. \");\r\n    }\r\n}\r\nexports.MatchesSnapshot = MatchesSnapshot;\r\nfunction create_one_liner(actual) {\r\n    var one_line_actual = actual.replace(/\\n/g, \"\").replace(/\\t/g, \"\").replace(/\\\\\"/g, \"\\\\\\\\\\\\\\\"\");\r\n    while (one_line_actual.indexOf(\"  \") !== -1) {\r\n        one_line_actual = one_line_actual.replace(/(  )/g, \" \");\r\n    }\r\n    return one_line_actual;\r\n}\r\nfunction MatchesXMLSnapshot(snapshot, actual) {\r\n    expectxml(actual).toMatchSnapshot(snapshot);\r\n}\r\nexports.MatchesXMLSnapshot = MatchesXMLSnapshot;\r\nfunction MatchesJSONSnapshot(snapshot, actual) {\r\n    var prettyActual = actual ? vkbeautify_1.json(actual) : actual;\r\n    var prettySnapshot = snapshot ? vkbeautify_1.json(snapshot) : snapshot;\r\n    MatchesSnapshot(prettySnapshot, prettyActual);\r\n}\r\nexports.MatchesJSONSnapshot = MatchesJSONSnapshot;\r\nfunction MatchesJSSnapshot(snapshot, actual) {\r\n    expectjs(actual).toMatchSnapshot(snapshot);\r\n}\r\nexports.MatchesJSSnapshot = MatchesJSSnapshot;\r\nfunction expectjs(actual) {\r\n    return new SnapshotJSInner(actual);\r\n}\r\nexports.expectjs = expectjs;\r\nfunction expectxml(xml_actual) {\r\n    return new SnapshotXMLInner(xml_actual);\r\n}\r\nexports.expectxml = expectxml;\r\nvar SnapshotInner = (function () {\r\n    function SnapshotInner(actual) {\r\n        this.actual = actual;\r\n    }\r\n    SnapshotInner.prototype.afterApplying = function (transformFunction) {\r\n        this.actual = transformFunction(this.actual);\r\n        return this;\r\n    };\r\n    return SnapshotInner;\r\n}());\r\nvar SnapshotJSInner = (function (_super) {\r\n    __extends(SnapshotJSInner, _super);\r\n    function SnapshotJSInner(actual) {\r\n        var _this = _super.call(this, actual) || this;\r\n        _this.parsed_values = new Array();\r\n        _this.actual = actual;\r\n        return _this;\r\n    }\r\n    SnapshotJSInner.prototype.toMatchSnapshot = function (snapshot) {\r\n        var prettyActual = this.actual ? vkbeautify_1.json(this.getOrderedStringifyAndClean()) : \"\";\r\n        var prettySnapshot = snapshot;\r\n        var use_autosnapshot = false;\r\n        if (snapshot === null || snapshot === undefined) {\r\n            if (!current_suite) {\r\n                throw \"Use of autosnapshot without registering snapshot object\";\r\n            }\r\n            use_autosnapshot = true;\r\n            var auto_snapshot = current_suite.getSnapshotAutomagically_saveActual(prettyActual);\r\n            prettySnapshot = auto_snapshot ? vkbeautify_1.json(auto_snapshot) : \"\";\r\n        }\r\n        else {\r\n            prettySnapshot = snapshot ? vkbeautify_1.json(snapshot) : snapshot;\r\n        }\r\n        MatchesSnapshot(prettySnapshot, prettyActual, use_autosnapshot);\r\n    };\r\n    SnapshotJSInner.prototype.getOrderedStringifyAndClean = function () {\r\n        var keys = this.collectAllKeysAndRemoveCircular(this.actual);\r\n        return JSON.stringify(this.actual, keys);\r\n    };\r\n    SnapshotJSInner.prototype.collectAllKeysAndRemoveCircular = function (js_object) {\r\n        var _this = this;\r\n        var allKeys = new Array();\r\n        var json = JSON.stringify(js_object, function (key, val) {\r\n            if (_this.isIEPooOrCurcularReferences(key, val)) {\r\n                return;\r\n            }\r\n            allKeys.push(key);\r\n            return val;\r\n        });\r\n        this.actual = JSON.parse(json);\r\n        return allKeys.sort(function (a, b) { return (a > b) ? 1 : -1; });\r\n    };\r\n    SnapshotJSInner.prototype.isIEPooOrCurcularReferences = function (key, value) {\r\n        if (typeof key === \"string\" && exports.KeyExceptionList.some(function (ex) { return key.indexOf(ex) !== -1; })) {\r\n            return true;\r\n        }\r\n        else if (this.IsCurcularDependency(value)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    SnapshotJSInner.prototype.IsCurcularDependency = function (value) {\r\n        if (value && typeof value === \"object\") {\r\n            if (this.parsed_values.indexOf(value) === -1) {\r\n                this.parsed_values.push(value);\r\n                return false;\r\n            }\r\n            else {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return SnapshotJSInner;\r\n}(SnapshotInner));\r\nexports.SnapshotJSInner = SnapshotJSInner;\r\nvar SnapshotXMLInner = (function (_super) {\r\n    __extends(SnapshotXMLInner, _super);\r\n    function SnapshotXMLInner(xml_actual) {\r\n        var _this = _super.call(this, xml_actual) || this;\r\n        _this.actual = xml_actual;\r\n        return _this;\r\n    }\r\n    SnapshotXMLInner.prototype.toMatchSnapshot = function (snapshot) {\r\n        var X2JS2 = X2JS;\r\n        var x2js = new X2JS2();\r\n        var js_actual = x2js.xml2js(this.actual);\r\n        expectjs(js_actual).toMatchSnapshot(snapshot);\r\n    };\r\n    return SnapshotXMLInner;\r\n}(SnapshotInner));\r\nexports.SnapshotXMLInner = SnapshotXMLInner;\r\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// jasmine-snapshot.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0a11604bc69c6a791c9e","let nativeWarn = console.warn;\r\nconsole.warn = function ()\r\n{\r\n    if (\r\n        (arguments.length > 0)\r\n        && (typeof arguments[0] === \"string\")\r\n        && (arguments[0].indexOf(\"[xmldom \") !== -1)\r\n    )\r\n    {\r\n        return;\r\n    }\r\n    nativeWarn.apply(console, arguments);\r\n};\r\n\r\nlet nativeError = console.error;\r\nconsole.error = function ()\r\n{\r\n    if (\r\n        (arguments.length > 0)\r\n        && (typeof arguments[0] === \"string\")\r\n        && (arguments[0].indexOf(\"entity not found\") !== -1)\r\n    )\r\n    {\r\n        return;\r\n    }\r\n    nativeError.apply(console, arguments);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/overrideconsole.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"difflib\"\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vkbeautify\"\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"x2js\"\n// module id = 3\n// module chunks = 0","import * as difflib from \"difflib\";\r\nimport { xml, json } from \"vkbeautify\";\r\nimport X2JS = require(\"x2js\");\r\nimport \"./overrideconsole\";\r\n\r\nlet current_snapshot_object: { [key: string]: string } = {};\r\nexport function registerSnapshots(snapshot_object: { [key: string]: string }, name: string)\r\n{\r\n    current_snapshot_object = snapshot_object;\r\n    current_suite = new AutoSnapshotSuite(current_level, name);\r\n}\r\n\r\nclass AutoSnapshot\r\n{\r\n    public key: string;\r\n    public text: string;\r\n    public diff: Array<string>;\r\n}\r\n\r\nlet auto_snapshot_siute_history = new Array<AutoSnapshotSuite>();\r\nclass AutoSnapshotSuite\r\n{\r\n    public snapshots = Array<AutoSnapshot>();\r\n    public level = 0;\r\n    private fail_counter_for_autosnapshot = 0;\r\n    private last_automagic_snapshot_spec = \"\";\r\n    private last_automagic_snapshot_number = 0;\r\n    private name: string;\r\n\r\n    constructor(snapshot_level: number, suite_name: string)\r\n    {\r\n        this.level = snapshot_level;\r\n        this.name = suite_name;\r\n    }\r\n\r\n    public getSnapshotAutomagically_saveActual(actual: string): string\r\n    {\r\n        let auto_snapshot = new AutoSnapshot();\r\n\r\n        if (current_spec === this.last_automagic_snapshot_spec)\r\n        {\r\n            this.last_automagic_snapshot_number++;\r\n        }\r\n        else\r\n        {\r\n            this.last_automagic_snapshot_number = 1;\r\n            this.last_automagic_snapshot_spec = current_spec;\r\n        }\r\n\r\n        auto_snapshot.key = create_one_liner(`${current_spec} ${this.last_automagic_snapshot_number}`);\r\n        auto_snapshot.text = create_one_liner(actual);\r\n        this.snapshots.push(auto_snapshot);\r\n\r\n        let snapshot = current_snapshot_object[auto_snapshot.key];\r\n        return snapshot ? snapshot : \"\";\r\n    }\r\n\r\n    public hasFailure(): boolean\r\n    {\r\n        return this.fail_counter_for_autosnapshot > 0;\r\n    }\r\n\r\n    public reportFailure(diff: Array<string>)\r\n    {\r\n        this.snapshots[this.snapshots.length - 1].diff = diff;\r\n        this.fail_counter_for_autosnapshot++;\r\n    }\r\n\r\n    public getText(): string\r\n    {\r\n        let snapshot_file_text = \"\\n**** If actual is valid, update your snapshot with the following ****\\n{\";\r\n\r\n        let has_snapshots = false;\r\n\r\n        for (let snapshot of this.snapshots)\r\n        {\r\n            has_snapshots = true;\r\n            snapshot_file_text += `\\n\\t\"${snapshot.key}\": \\`${snapshot.text}\\`,`;\r\n        }\r\n\r\n        if (has_snapshots)\r\n        {\r\n            snapshot_file_text = snapshot_file_text.slice(0, snapshot_file_text.length - 1);\r\n            snapshot_file_text += \"\\n}\\n\\n\";\r\n        }\r\n\r\n        return snapshot_file_text;\r\n    }\r\n\r\n    public pushToHistory()\r\n    {\r\n        auto_snapshot_siute_history.push(this);\r\n    }\r\n\r\n    public getHTML(): string\r\n    {\r\n        if(typeof document !== 'undefined') {\r\n            document.body.style.fontFamily = \"Courier New\";\r\n            document.body.style.whiteSpace = \"nowrap\";\r\n        }\r\n        if (!this.name) { throw \"name not defined for snapshot suite\"; }\r\n\r\n        if (!this.hasFailure())\r\n        {\r\n            return `<p style=\"color: green; font-size: 25px; font-weight: bold;\">===Auto snapshot suite, ${this.name}, has no problems!===</p>`;\r\n        }\r\n\r\n        let snapshot_file_html = `<p style=\"color: red; font-size: 25px; font-weight: bold;\">===Suite, ${this.name}, had problems===</p>`;\r\n\r\n        this.snapshots.forEach((snapshot) =>\r\n        {\r\n            if (snapshot.diff)\r\n            {\r\n                snapshot_file_html += `<div>>Test: \"${snapshot.key}\" did not match the snapshot:</div><br //>`;\r\n                snapshot.diff.forEach((d) =>\r\n                {\r\n                    if (d.length >= 3 && (d.slice(0, 3) === \"---\" || d.slice(0, 3) === \"+++\") || d.slice(0, 2) === \"@@\")\r\n                    {\r\n                        return;\r\n                    }\r\n                    else if (d.charAt(0) === \"-\")\r\n                    {\r\n                        snapshot_file_html += `<span style=\"color: red\">${d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\")}</span><br //>`;\r\n                    }\r\n                    else if (d.charAt(0) === \"+\")\r\n                    {\r\n                        snapshot_file_html += `<span style=\"color: green\">${d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\")}</span><br //>`;\r\n                    }\r\n                    else\r\n                    {\r\n                        snapshot_file_html += `${d.replace(/&nbsp;/g, \"&amp;nbsp;\").replace(/ /g, \"&nbsp;\")}<br //>`;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        snapshot_file_html += `<p style=\"text-decoration: underline; font-weight: bold;\">If actual is valid, update your snapshot with the following <//p>`;\r\n        snapshot_file_html += \"<div style='color: blue;'>{\";\r\n\r\n        let has_snapshots = false;\r\n\r\n        for (let snapshot of this.snapshots)\r\n        {\r\n            has_snapshots = true;\r\n            snapshot_file_html += `<br //>&nbsp;&nbsp;&nbsp;&nbsp;\"${snapshot.key}\": \\`${snapshot.text.replace(/&nbsp;/g, \"&amp;nbsp;\")}\\`,`;\r\n        }\r\n\r\n        if (has_snapshots)\r\n        {\r\n            snapshot_file_html = snapshot_file_html.slice(0, snapshot_file_html.length - 1);\r\n            snapshot_file_html += \"<br //>}</div></p>\";\r\n        }\r\n\r\n        return snapshot_file_html;\r\n    }\r\n}\r\n\r\n/************ Jasmine Reporter ************/\r\n\r\nlet current_suite: AutoSnapshotSuite | null;\r\nlet current_spec = \"\";\r\nlet current_level = 0;\r\njasmine.getEnv().addReporter({\r\n    suiteStarted: function (result)\r\n    {\r\n        current_level++;\r\n    },\r\n    specStarted: function (result)\r\n    {\r\n        current_spec = result.fullName;\r\n    },\r\n    suiteDone: function (result)\r\n    {\r\n        current_level--;\r\n\r\n        if (current_suite && current_level < current_suite.level)\r\n        {\r\n            if (current_suite.hasFailure)\r\n            {\r\n                // console.error(current_suite.getText());\r\n            }\r\n\r\n            current_suite.pushToHistory();\r\n            current_suite = null;\r\n        }\r\n    },\r\n    jasmineDone: function (results)\r\n    {\r\n        if (current_suite)\r\n        {\r\n            if (current_suite.hasFailure)\r\n            {\r\n                // console.error(current_suite.getText());\r\n            }\r\n\r\n            current_suite.pushToHistory();\r\n            current_suite = null;\r\n        }\r\n\r\n        if (auto_snapshot_siute_history.length === 0)\r\n        {\r\n            return;\r\n        }\r\n\r\n        let html_summary = auto_snapshot_siute_history.reduce(\r\n            (prev_html, curr_suite) =>\r\n            {\r\n                return prev_html + \"<br //>\" + curr_suite.getHTML();\r\n            }, \"\");\r\n\r\n        if(typeof document !== 'undefined') {\r\n            document.body.innerHTML = html_summary + document.body.innerHTML;\r\n        } else {\r\n            console.log(html_summary);\r\n        }\r\n    }\r\n});\r\n\r\n/*************** Matching logic ***************/\r\n\r\n/**\r\n * Add more entries to this array if you have other exclusions for snapshot checks\r\n */\r\nexport let KeyExceptionList = [\"typeof\"];\r\n\r\nexport function ResetExceptionList()\r\n{\r\n    KeyExceptionList = [\"typeof\"];\r\n}\r\n\r\ndeclare var console;\r\n\r\nexport function MatchesSnapshot(snapshot: string, actual: string, automagic?: boolean)\r\n{\r\n    if (actual !== snapshot)\r\n    {\r\n        let diff: string[] = difflib.unifiedDiff(snapshot.split(\"\\n\"), actual.split(\"\\n\"));\r\n\r\n        if (automagic)\r\n        {\r\n            if (!current_suite) { throw \"autoagic snapshot with no registered snapshot object\"; }\r\n\r\n            current_suite.reportFailure(diff);\r\n        }\r\n\r\n        let diff_string = \"\\n\";\r\n        diff_string += `**** ${current_spec} diff *****\\n\\n`;\r\n\r\n        diff.forEach(d =>\r\n        {\r\n            if (d !== \"--- \\n\" && d !== \"+++ \\n\" &&\r\n                !(d.length > 5 && d.slice(0, 2) === \"@@\"))\r\n            {\r\n                diff_string += d + \"\\n\";\r\n            }\r\n        });\r\n\r\n        diff_string += \"\\n\";\r\n\r\n        if (!automagic)\r\n        {\r\n            let one_line_actual = create_one_liner(actual);\r\n\r\n            diff_string += \"**** If the Actual is valid, update the snapshot with this ****\\n\";\r\n            diff_string += ` ----- Formatted ------\\n${actual}\\n\\n ----- Single Line ------\\n${one_line_actual}`;\r\n        }\r\n        console.error(diff_string);\r\n\r\n        fail(`Actual does not match snapshot. See above. `);\r\n    }\r\n}\r\n\r\nfunction create_one_liner(actual: string)\r\n{\r\n    let one_line_actual = actual.replace(/\\n/g, \"\").replace(/\\t/g, \"\").replace(/\\\\\"/g, `\\\\\\\\\\\\\"`);\r\n    while (one_line_actual.indexOf(\"  \") !== -1)\r\n    {\r\n        one_line_actual = one_line_actual.replace(/(  )/g, \" \");\r\n    }\r\n\r\n    return one_line_actual;\r\n}\r\n\r\n/**\r\n * compares an HTML or XML values to a snapshot\r\n * @param snapshot the snapshot to compare the actual to\r\n * @param actual the actual xml/html string to compare to the snapshot\r\n */\r\nexport function MatchesXMLSnapshot(snapshot: string, actual: string)\r\n{\r\n    expectxml(actual).toMatchSnapshot(snapshot);\r\n}\r\n\r\n/**\r\n * compares a snapshot to a json string\r\n * @param snapshot the snapshot to compare the actual to\r\n * @param actual the json string to compare to the snapshot\r\n */\r\nexport function MatchesJSONSnapshot(snapshot: string, actual: string)\r\n{\r\n    let prettyActual = actual ? json(actual) : actual;\r\n    let prettySnapshot = snapshot ? json(snapshot) : snapshot;\r\n\r\n    MatchesSnapshot(prettySnapshot, prettyActual);\r\n}\r\n\r\n/**\r\n * Compares the snapshot to the actual option. Note this method will stringify\r\n * the actual value for the snnapshot compare and remove any key/values that contain the\r\n * strings in the KeyExceptionList\r\n * @param snapshot the snapshot to compare the actual to\r\n * @param actual The actual JS object to compare to the snapshot\r\n */\r\nexport function MatchesJSSnapshot(snapshot: string, actual: any)\r\n{\r\n    expectjs(actual).toMatchSnapshot(snapshot);\r\n}\r\n\r\nexport function expectjs(actual: Object)\r\n{\r\n    return new SnapshotJSInner(actual);\r\n}\r\n\r\nexport function expectxml(xml_actual: string)\r\n{\r\n    return new SnapshotXMLInner(xml_actual);\r\n}\r\n\r\nabstract class SnapshotInner<T extends Object | string>\r\n{\r\n    protected actual: T;\r\n\r\n    constructor(actual: T)\r\n    {\r\n        this.actual = actual;\r\n    }\r\n\r\n    public afterApplying(transformFunction: (actual: T) => T)\r\n    {\r\n        this.actual = transformFunction(this.actual);\r\n        return this;\r\n    }\r\n}\r\n\r\nexport class SnapshotJSInner extends SnapshotInner<Object>\r\n{\r\n    private parsed_values = new Array<object>();\r\n\r\n    constructor(actual: Object)\r\n    {\r\n        super(actual);\r\n        this.actual = actual;\r\n    }\r\n\r\n    public toMatchSnapshot(snapshot?: string): void\r\n    {\r\n        let prettyActual = this.actual ? json(this.getOrderedStringifyAndClean()) : \"\";\r\n\r\n        let prettySnapshot = snapshot;\r\n        let use_autosnapshot = false;\r\n        if (snapshot === null || snapshot === undefined)\r\n        {\r\n            if (!current_suite) { throw \"Use of autosnapshot without registering snapshot object\"; }\r\n\r\n            use_autosnapshot = true;\r\n            let auto_snapshot = current_suite.getSnapshotAutomagically_saveActual(prettyActual);\r\n            prettySnapshot = auto_snapshot ? json(auto_snapshot) : \"\";\r\n        }\r\n        else\r\n        {\r\n            prettySnapshot = snapshot ? json(snapshot) : snapshot;\r\n        }\r\n\r\n        MatchesSnapshot(prettySnapshot, prettyActual, use_autosnapshot);\r\n    }\r\n\r\n    private getOrderedStringifyAndClean()\r\n    {\r\n        let keys = this.collectAllKeysAndRemoveCircular(this.actual);\r\n        return JSON.stringify(this.actual, keys);\r\n    }\r\n\r\n    private collectAllKeysAndRemoveCircular(js_object: any)\r\n    {\r\n        const allKeys = new Array<string>();\r\n\r\n        let json = JSON.stringify(js_object, (key: string, val: any) =>\r\n        {\r\n            if (this.isIEPooOrCurcularReferences(key, val))\r\n            {\r\n                return;\r\n            }\r\n\r\n            allKeys.push(key);\r\n            return val;\r\n        });\r\n\r\n        this.actual = JSON.parse(json);\r\n\r\n        return allKeys.sort((a: string, b: string) => (a > b) ? 1 : -1);\r\n    }\r\n\r\n    private isIEPooOrCurcularReferences(key, value)\r\n    {\r\n        if (typeof key === \"string\" && KeyExceptionList.some((ex) => key.indexOf(ex) !== -1))\r\n        {\r\n            return true;\r\n        }\r\n        else if (this.IsCurcularDependency(value))\r\n        {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private IsCurcularDependency(value: any)\r\n    {\r\n        if (value && typeof value === \"object\")\r\n        {\r\n            if (this.parsed_values.indexOf(value) === -1)\r\n            {\r\n                this.parsed_values.push(value);\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    }\r\n}\r\n\r\nexport class SnapshotXMLInner extends SnapshotInner<string>\r\n{\r\n    constructor(xml_actual: string)\r\n    {\r\n        super(xml_actual);\r\n        this.actual = xml_actual;\r\n    }\r\n\r\n    public toMatchSnapshot(snapshot?: string): void\r\n    {\r\n        const X2JS2 = X2JS as any; // don't hate me, their typings suck\r\n        const x2js = new X2JS2();\r\n\r\n        let js_actual = x2js.xml2js(this.actual);\r\n        expectjs(js_actual).toMatchSnapshot(snapshot);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}